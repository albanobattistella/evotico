---
import { t } from 'i18next';
---

<phase-selector>
  <div class="flex justify-around">
      <div class="flex items-center">
        <input id="full-phase" type="radio" name="phase-radio"  class="radio radio-primary" />
        <label for="full-phase" class="mx-2 cursor-pointer	" >{ t('process.phases.full') }</label>
      </div>
      <div class="flex items-center">
        <input id="voting-phase" type="radio" name="phase-radio" class="radio radio-primary" />
        <label for="voting-phase" class="mx-2 cursor-pointer	">{ t('process.phases.voting') }</label>
      </div>
  </div>
</phase-selector>
    

<script>
  import { process } from 'stores/processStore';
  
  class PhaseSelector extends HTMLElement {
    constructor() {
      super();
      
      const $process = process.get();
  
      const fullPhase = this.querySelector('#full-phase') as HTMLInputElement;
      fullPhase.addEventListener('click', () => process.setKey('phases', 'full'));
      fullPhase.checked = $process.phases === 'full';
      
      const votingPhase = this.querySelector('#voting-phase') as HTMLInputElement;
      votingPhase.addEventListener('click', () => process.setKey('phases', 'voting'));
      votingPhase.checked = $process.phases === 'voting';
    }
  }
  
  customElements.define('phase-selector', PhaseSelector);
</script>  
