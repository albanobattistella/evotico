---
import { t } from 'i18next'
import { format } from 'date-fns'
import Countdown from "molecules/Countdown.astro";

interface Props {
    phase: string,
    dates: number[]
}

const { phase, dates} = Astro.props;

---


{ 
    +new Date() < dates[0] ? (
        <>
            <span>{ t(`phases.${phase}.title`) }:&nbsp;</span>
            <br/>
            <div>
                <span>{ t(`phases.startAt`) }:&nbsp;</span>
                <span class="link-success">{  format(new Date(dates[0]), 'E MMM d y hh:mm zzzz')}</span>
                <br/>
                <span>{ t(`phases.lastFor`) }:&nbsp;</span>
                <Countdown type="success" dates={dates} />
            </div>
        </>
    ) : +new Date() < dates[1] ? (
        <div class="flex flex-wrap">
            <span>{ t(`phases.${phase}.title`) }:&nbsp;</span>

            <Countdown dates={dates} type="warning" />
            <span>({ t('remainingTime') })</span>
        </div>
    ) : null
}

