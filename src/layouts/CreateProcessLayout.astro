---
import BaseLayout from 'layouts/BaseLayout.astro'
import Alert from "@/ui/Alert.astro";
import AlertList from "@/ui/AlertList.astro";
import { t } from "i18next";
import { process } from 'stores/processStore';

const $process = process.get();

interface Props {
    title: string,
    description: string,
    step: number,
}

const { title, description, step} = Astro.props;
console.log($process.phases)
---

<BaseLayout title={title} description={description}>
  <h1>Setup Process</h1>

  <!-- Step Indicator -->
  <div class="flex justify-center space-x-2">
    <div class={`w-4 h-4 rounded-full ${step === 1 ? 'bg-indianred' : 'bg-gray-300'}`}></div>
    <div class={`w-4 h-4 rounded-full ${step === 2 ? 'bg-indianred' : 'bg-gray-300'}`}></div>
    <div class={`w-4 h-4 rounded-full ${step === 3 ? 'bg-indianred' : 'bg-gray-300'}`}></div>
    <div class={`w-4 h-4 rounded-full ${step === 4 ? 'bg-indianred' : 'bg-gray-300'}`}></div>
  </div>
  <slot/>

  <AlertList>
    <Alert icon="warning" error>{ t('alert.error.topicQuestion') }</Alert>
    <Alert icon="checkmark-outline" success>{ t('alert.success.createProcess') }</Alert>
    <Alert icon="warning" error>{ t('alert.error.proposalsMissing') }</Alert>
    <Alert icon="warning" error>{ t('alert.error.payloadSizeTooLarge') }</Alert>
    <Alert icon="checkmark-outline" warning>{ t('alert.success.creatingProcess') }</Alert>
  </AlertList>
</BaseLayout>